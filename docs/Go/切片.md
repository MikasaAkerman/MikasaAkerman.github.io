### 切片

##### 堆还是栈？

- 如果申请的内存较小，且为局部变量，则在栈里
- 如果申请的内存较大，或使用return作为返回值返回，则在堆里
- 如果采用`slice := make([]int, 0, cap)`的方式，cap为变量的话，也会生成在堆里

##### 性能优化

- `slice := make([]int, 0)`往slice里面append数据的时候，如果cap不够，会重新申请一块内存区域，导致append语句执行慢
  - 申请内存次数过多，且大小不固定，导致内存碎片化。如果遍历完程序本身的内存空间都满足不了条件，就需要重复向操作系统申请
- 解决方案：`slice  := make([]int, 0, 10)`
