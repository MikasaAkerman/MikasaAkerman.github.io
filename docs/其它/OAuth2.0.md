### OAuth是什么？

> OAuth是一种授权机制，它允许第三方应用进入系统，并获取一些受限的数据。

### OAuth的特点

1. 令牌短期内有效，用户无法自己修改；
2. 令牌可以被发放者销毁，立即失效；
3. 令牌的授权范围是有限的。

### OAuth的授权方式

_不管哪一种方式，第三方应用都需要先到系统备案，然后会拿到两个识别码：客户ID（client ID）和客户端密匙（client secret）_

##### 授权码

_这种方式是最常用的流程，安全性也最高，适用于那些有后端的 Web 应用_

1. A网站提供一个链接，跳转到B网站；
2. B网站要求用户登录，并询问是否同意授权；
3. 用户同意以后，B网站跳回回调地址，并携带授权码；
4. A网站使用授权码向B网站请求令牌；
5. B网站向A网站颁发令牌。

##### 隐藏式

_适合没有后端的纯前端应用，需要严格控制令牌有效期_

1. A网站提供一个链接，跳转到B网站；
2. B网站要求用户登录，并询问是否同意授权；
3. 用户同意以后，B网站跳回回调地址，并携带令牌。

##### 密码式

_高度信任某应用，将用户名和密码告诉某应用，直接通过用户名密码申请令牌_

1. A网站要求用户提供B网站的用户名和密码；
2. A网站通过用户名和密码直接向B网站申请令牌。

##### 客户端凭证

_适用于没有前端的命令行应用_

1. A应用在命令行向B应用发送请求；
2. B应用验证通过以后，直接返回令牌。

_**这种方式给出的令牌，是针对应用的，而不是针对用户的，即有可能多个用户共享同一个令牌。**_

