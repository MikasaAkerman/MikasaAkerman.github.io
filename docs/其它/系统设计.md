##### 微信群红包

- 系统垂直化。根据红包id，将对同一个红包的所有操作分配到同一个Server节点进行；
- 逻辑层排队。所有请求在Server节点进行排队，根据FIFO原则，实现串行事务；
- memcached控制并发。利用memcached的CAS原子累增操作，控制同时进入DB执行拆红包事务的请求数，超过预先设定数值则直接拒绝服务（服务降级）。
- 按天分表(其实是按日期)。因为红包超过24小时没有拆就会退款，解决数据膨胀问题的同时，分离冷热数据

##### 秒杀系统

- 将请求拦截在上层。用户点击查询以后，必须等到服务器响应以后才能点下一次；或者限制多少秒只能点击一次
- 针对同一个用户(uid)，限制访问频率，多次访问返回统一结果(哪怕是不同接口);针对同一item的查询，在某一时间段内返回同一结果
- 网关限流。某一时间段内请求数超过限制，则排队请求或者直接拒绝服务
- 读请求使用cache；写请求排队，每次放一批请求，如果全部成功，则执行下一批，如果发现库存不足，则该队列所有写请求都返回库存不足
- MQ异步写，削峰填谷。写请求进mq，消费者慢慢消费。

##### 播放量、点赞系统

- 异步，使用mq，消费者做幂等处理

- 缓存数据在redis，点赞注意保证接口的幂等
- 每隔一段时间同步数据到mysql，并更新统计信息

##### 关注、粉丝系统

##### 断点续传